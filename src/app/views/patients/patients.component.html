<section *ngIf="showAdminBoard">
  <!--CARDS DE CLINICS-->
<c-row>
  <c-col xs="12"> </c-col>
  <c-col xs="12" lg="12">
    <c-card class="mb-4">
      <c-card-header> Statistique generale </c-card-header>
      <c-card-body>
      <c-row>
        <c-col lg="6" sm="6" xs="12">
          <c-widget-stat-f
            [title]="'Nombre de patient'"
            class="mb-3"
            color="info"
            padding
            value="{{NbrePatient}}"
          >
            <ng-template cTemplateId="widgetIconTemplate">
              <svg cIcon name="cilUser" size="xl" width="24"></svg>
            </ng-template>
          </c-widget-stat-f>
        </c-col>
      </c-row>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>
<!--CARDS DE CLINICS-->

  <!--MODAL CLINICS-->
  <button class="btn btn-outline-primary mb-2 me-2" (click)="open(content)">
    Ajouter
  </button>

<c-input-group class="input-prepend" style="margin-bottom: 10px;width: 35%;">
  <span cInputGroupText>
    <svg cIcon name="cilMagnifyingGlass"></svg>
  </span>
  <input name="search" [(ngModel)]="searchText" cFormControl placeholder="Rechercher par status" type="text" />
  <button cButton color="info">Search</button>
</c-input-group>

  <ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Nouvelle clinic</h4>
      <button
        type="button"
        class="btn-close"
        aria-label="Close"
        (click)="d('Cross click')"
      ></button>
    </div>
    <div class="modal-body">
      <form cForm class="row g-3">
        <c-col [xs]="12">
          <label cLabel for="nom">Nom et prenom *</label>
          <input cFormControl id="nom" name="nom" type="text" [(ngModel)]="nom" placeholder="Nom et prenom" required/>
        </c-col>
  
        <c-col [md]="6">
          <label cLabel for="username">Username *</label>
          <input cFormControl id="username" name="username" [(ngModel)]="username" required type="text" placeholder="Username"/>
        </c-col>
        <c-col [md]="6">
          <label cLabel for="email">Email *</label>
          <input cFormControl id="email" type="email" name="email" [(ngModel)]="email" placeholder="Email" required />
        </c-col>
        <c-col [xs]="12">
          <label cLabel for="password">Password *</label>
          <input cFormControl id="password" placeholder="Mot de passe" type="password" name="password" [(ngModel)]="password" required />
        </c-col>
        <c-col [xs]="12">
          <label cLabel for="date">Date de naissance *</label>
          <input
            cFormControl
            id="date"
            name="date"
            [(ngModel)]="date"
            type="date"
            required
          />
        </c-col>
        <c-col [xs]="12">
          <label cLabel for="sexe">Genre *</label>
          <select aria-label="Default select example" cSelect id="sexe" name="sexe" [(ngModel)]="sexe" required>
            <option selected disabled>Choisir genre</option>
            <option value="Homme">Homme</option>
            <option value="Femme">Femme</option>
          </select>
        </c-col>
        <c-col [xs]="12">
          <label cLabel for="contact">Contact *</label>
          <input cFormControl id="contact" name="contact" type="tel" [(ngModel)]="contact" placeholder="Contact professionnel" required/>
        </c-col>
      </form>
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-outline-dark"
        (click)="c('Save click')"
        (click)="onCreate()"
      >
        Creer
      </button>
    </div>
  </ng-template>
  <!--MODAL CLINICS-->

<!--TABLE DE PATIENT-->
  <c-row>
    <c-col xs >
      <div class="listvide" *ngIf="NbrePatient==0">
        <label>Il n'y existe pas encore de patient</label>
        </div>
      <c-card class="mb-4" *ngIf="NbrePatient">
        <c-card-header>Patient</c-card-header>
  
        <table
          [hover]="true"
          [responsive]="true"
          [striped]="true"
          align="middle"
          cTable
          class="mb-0 border"
        >
          <thead cTableColor="light">
            <tr>
              <th class="text-center">ID</th>
              <th class="text-center">Photo</th>
              <th class="text-center">Nom & prenom</th>
              <th>Username</th>
              <th>Email</th>
              <th>Date de naissance</th>
              <th>Contact</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="
                let p of patients
                  | filter : searchText
                  | paginate : { itemsPerPage: 1, currentPage: p };
                let id = index
              "
            >
            <td class="text-center" >
              {{ id+1 }}
            </td>
            <td class="text-center" >
                <div>
                  <img *ngIf="p.image" src="{{ p.image }}" alt=""
                  style="width:50px; height: 50px;border-radius: 50%;">
                </div>
                <div>
                  <img *ngIf="p.image==null" src="../../../assets/images/angular.jpg" alt=""
                  style="width:50px; height: 50px;border-radius: 50%;">
                </div>
            </td>
              <td class="text-center" >
                  {{ p.nomEtPrenom }}
              </td>
              <td class="txt">
                <div>{{ p.username }}</div>
              </td>
              <td class="txt">
                <div>{{ p.email }}</div>
              </td>
              <td class="txt">
                <div>{{ p.date }}</div>
              </td>
              <td class="txt">
                <div>{{ p.contact }}</div>
              </td>
              <td>
                <div class="btn-group">
                  <!-- <a class="btn btn-primary" title="Voir details"
                    ><i class="fa-solid fa-eye"></i
                  ></a>
                  <a
                    class="btn btn-success"
                    (click)="open(content)"
                    title="Modifier"
                    ><i class="fa-solid fa-pen-to-square"></i
                  ></a> -->
                  <a class="btn btn-danger" title="Supprimer" (click)="deletePopUp(p.id)"
                    >Banir <i class="fa-solid fa-trash"></i
                  ></a>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </c-card>
    </c-col>
  </c-row>
  <!--TABLE DE PATIENT-->
  
  
  <!--PAGINATION DE TABLE-->
  <pagination-controls (pageChange)="p = $event"></pagination-controls>
  <!--PAGINATION DE TABLE-->


</section>


